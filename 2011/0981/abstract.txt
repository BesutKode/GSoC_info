I will be implementing Stream Management (XEP-198) in Gajim. The idea behind Stream Management is to keep track of the messages that are being sent and received by each of the communicating entities. If the connection is lost while the conversation is taking place, then by knowing which messages were handled, it is possible to recover the lost messages and resend those that were not delivered.