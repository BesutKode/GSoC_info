During the transaction processing of Ceph FileStore, buffered IO is used for performance reasons. Therefore, there is a SyncThread that periodically flushes all buffered IOs to disks. However, it will cause severe performance degradations when the sync begins, since the flushing will promptly use up the IO bandwidth, which is unacceptable for the latency-critical workloads. This project aims to replace SyncThread with a more intelligent WBThrottle, which has a fine-grained write-back policy.